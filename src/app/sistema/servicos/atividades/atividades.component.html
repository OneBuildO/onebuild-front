<div class="main-container">
  <div class="banner">
    <h1>Atividades</h1>
    <p>Gerencie o cronograma da obra dos seus clientes de forma dinâmica.</p>
  </div>
  <div class="breadcrumb-container">
    <div class="breadcrumb">
      <!--
      <a (click)="onVoltarClick()">Dashboard &gt;</a>
      <span class="breadcrumb-highlight">Atividades</span>
      -->
    </div>
  </div>

  <!-- Só exibe o filtro de clientes depois que a lista chegou -->
  <div class="filters" *ngIf="clients.length">
    <label>
      Cliente:
      <select
        [(ngModel)]="selectedClient"
        (ngModelChange)="onClientChange()"
      >
        <option *ngFor="let c of clients" [ngValue]="c">
          {{ c.nome }}
        </option>
      </select>
    </label>

    <!-- Só exibe o filtro de projetos se houver projetos filtrados -->
    <label *ngIf="projects.length">
      Projeto:
      <select
        [(ngModel)]="selectedProject"
        (ngModelChange)="onProjectChange()"
      >
        <option *ngFor="let p of projects" [ngValue]="p">
          {{ p.nomeProjeto }}
        </option>
      </select>
    </label>
  </div>

  <!-- Só exibe o Gantt depois que um cliente e um projeto estiverem definidos -->
  <div class="gantt-section"
       *ngIf="selectedClient && selectedProject">
    <h2>Cronograma de Obras – Quadro Gantt</h2>
    <pre>
      Cliente selecionado: {{ selectedClient.nome }},
      Projeto selecionado: {{ selectedProject.nomeProjeto }}
    </pre>
    <div id="gantt_chart"></div>
  </div>
</div>
